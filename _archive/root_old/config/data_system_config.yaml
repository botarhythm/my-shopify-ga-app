# 継続的データ活用システム設定
# Continuous Data Utilization System Configuration

# データ取得設定
DATA_FETCH_CONFIG = {
    # データ取得範囲（日数）
    "FETCH_RANGE_DAYS": 730,  # 2年分
    
    # データ取得頻度
    "DAILY_FETCH_TIME": "02:00",      # 毎日午前2時
    "WEEKLY_FETCH_TIME": "03:00",     # 毎週日曜日午前3時
    "MONTHLY_ANALYSIS_TIME": "04:00", # 毎月1日午前4時
    
    # データベース設定
    "DB_PATH": "./data/duckdb/commerce_fresh.duckdb",
    "BACKUP_ENABLED": True,
    "BACKUP_RETENTION_DAYS": 30,
    
    # ログ設定
    "LOG_ENABLED": True,
    "LOG_FILE": "./logs/data_fetch.log",
    "LOG_LEVEL": "INFO",
    
    # 通知設定
    "NOTIFICATION_ENABLED": False,
    "EMAIL_NOTIFICATIONS": False,
    "SLACK_WEBHOOK": None,
}

# データ品質設定
DATA_QUALITY_CONFIG = {
    # データ検証
    "VALIDATE_ON_FETCH": True,
    "MIN_RECORDS_THRESHOLD": 10,
    "MAX_MISSING_DATA_PERCENT": 20,
    
    # 異常値検出
    "ANOMALY_DETECTION": True,
    "ANOMALY_THRESHOLD": 3.0,  # 標準偏差の倍数
    
    # データ整合性チェック
    "CONSISTENCY_CHECK": True,
    "CROSS_PLATFORM_VALIDATION": True,
}

# 分析設定
ANALYSIS_CONFIG = {
    # YoY分析
    "YOY_ENABLED": True,
    "YOY_MIN_MONTHS": 12,
    
    # トレンド分析
    "TREND_ANALYSIS": True,
    "TREND_WINDOW_DAYS": 90,
    
    # 予測分析
    "FORECASTING_ENABLED": False,
    "FORECAST_HORIZON_DAYS": 30,
    
    # レポート生成
    "AUTO_REPORT_GENERATION": True,
    "REPORT_FORMATS": ["html", "pdf"],
    "REPORT_SCHEDULE": "monthly",
}

# パフォーマンス設定
PERFORMANCE_CONFIG = {
    # 並列処理
    "PARALLEL_FETCH": True,
    "MAX_WORKERS": 4,
    
    # キャッシュ設定
    "CACHE_ENABLED": True,
    "CACHE_TTL_HOURS": 24,
    
    # データベース最適化
    "DB_OPTIMIZATION": True,
    "INDEX_CREATION": True,
    "VACUUM_SCHEDULE": "weekly",
}

# セキュリティ設定
SECURITY_CONFIG = {
    # API認証
    "API_RATE_LIMITING": True,
    "MAX_REQUESTS_PER_MINUTE": 60,
    
    # データ暗号化
    "ENCRYPTION_ENABLED": False,
    "ENCRYPTION_KEY": None,
    
    # アクセス制御
    "ACCESS_CONTROL": True,
    "ALLOWED_IPS": [],
}

# 監視設定
MONITORING_CONFIG = {
    # ヘルスチェック
    "HEALTH_CHECK_ENABLED": True,
    "HEALTH_CHECK_INTERVAL": 300,  # 5分
    
    # メトリクス収集
    "METRICS_ENABLED": True,
    "METRICS_RETENTION_DAYS": 90,
    
    # アラート設定
    "ALERTS_ENABLED": True,
    "ALERT_THRESHOLDS": {
        "ERROR_RATE": 0.05,      # 5%
        "RESPONSE_TIME": 30,      # 30秒
        "DATA_FRESHNESS": 24,     # 24時間
    },
}
